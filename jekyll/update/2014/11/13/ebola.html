<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Ebola Data</title>
    <meta name="description" content="This is a sandbox test site for Lee Worden's experiments with Jekyll and GitHub Pages
">

    <link rel="stylesheet" href="/github-pages-sandbox/css/main.css">
    <link rel="stylesheet" href="/github-pages-sandbox/css/auto-generated-from-ww.css">
    <link rel="stylesheet" href="/github-pages-sandbox/css/wmd.css">
    <link rel="canonical" href="/github-pages-sandbox/jekyll/update/2014/11/13/ebola.html">
    <script type="text/x-mathjax-config">MathJax.Hub.Config({ jax: ["input/MathML", "output/HTML-CSS"] });</script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/github-pages-sandbox/">LW Jekyll/GitHub Pages Sandbox</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/github-pages-sandbox/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Ebola Data</h1>
    <p class="post-meta">Nov 13, 2014</p>
  </header>

  <article class="post-content">
    <p>[This is a <a href="http://lalashan.mcmaster.ca/theobio/projects/index.php/Working_Markup">Working Markup</a> adaptation of <a href="http://lalashan.mcmaster.ca/theobio/math/index.php/Ebola_data">a WorkingWiki page</a> that downloads and plots <a href="https://data.hdx.rwlabs.org/dataset/rowca-ebola-cases">recent data on Ebola cases</a>.]</p>

<h2 id="the-data-file">The data file</h2>

<p><!-- data.xlsx --><a href="/github-pages-sandbox/wmd_files/2014-11-13-ebola.md/data.xlsx">data.xlsx</a> is downloaded from <a href="https://data.hdx.rwlabs.org/dataset/rowca-ebola-cases">HDX</a>.</p>

<p><code>wget</code> by default keeps the timestamp from the download server. This will be useful in some cases, but right now we don’t want it, because HDX changes the location for each new update, and we are tracking manually. So for now, we are using “touch” when we download, and the project will automatically update after you manually change the file location.</p>

<p><!-- download.mk --><fieldset class="ww-project-file-source ww-collapsible"><legend><span>download.mk</span></legend><div class="ww-collapsible-content"><pre>data.xlsx: download.mk
	wget -O $@ "http://data.hdx.rwlabs.org/storage/f/2014-10-28T12%3A23%3A19.044Z/data-ebola-public.xlsx"
	touch $@
</pre></div></fieldset></p>

<h2 id="exploration">Exploration</h2>

<p><!-- clean.summary.Rout --><fieldset class="ww-project-file-source ww-collapsible"><legend><span>clean.summary.Rout</span></legend><div class="ww-collapsible-content"><pre>&gt; # Global Environment: clean.RData
&gt; 
&gt; # Scripts: /usr/local/src/workingwiki-trunk/ProjectEngine/resources/site/summary.R
&gt; 
&gt; print(&quot;########  clean.summary  ########&quot;)
[1] &quot;########  clean.summary  ########&quot;
&gt; 
&gt; rm(&quot;input_files&quot;)
&gt;  
&gt; for(n in sort(objects())){
+ 	o &lt;- get(n)
+ 	c &lt;- class(o)
+ 	cat(n, &quot; (&quot;, c, &quot;)&quot;, &quot;\n&quot;, sep=&quot;&quot;)
+ 	print(summary(o))
+ }
data (data.frame)
         Country            Localite                Category   
 Guinea      :6826   National   : 1457   Cases          :3241  
 Liberia     :4730   Conakry    :  346   Confirmed cases:2770  
 Mali        :  60   Gueckedou  :  346   Deaths         :3207  
 Nigeria     : 364   Kissidougou:  346   New cases      :2735  
 Senegal     : 189   Macenta    :  346   Probable cases :2741  
 Sierra Leone:4750   Telimele   :  325   Suspected cases:2225  
                     (Other)    :13753                         
     Value              Date                             Sources     
 Min.   :   0.00   Min.   :2014-03-24   ECHO                 :    6  
 1st Qu.:   1.00   1st Qu.:2014-09-05   Gvt                  :15579  
 Median :   5.00   Median :2014-09-22   GVT                  :  150  
 Mean   :  66.88   Mean   :2014-09-18   Ministere de la Sante:  224  
 3rd Qu.:  34.00   3rd Qu.:2014-10-11   UNICEF               :   46  
 Max.   :3272.00   Max.   :2014-10-27   WHO                  :  893  
 NA's   :382                            WHO; Gvt             :   21  
              Link      
                :  184  
 Sitrep181 13Oct:  156  
 Sitrep182 14Oct:  156  
 Sitrep183 15Oct:  156  
 Sitrep184 16Oct:  156  
 Sitrep185 17Oct:  156  
 (Other)        :15955  
national (data.frame)
         Country        Localite               Category       Value       
 Guinea      :450   National:1457   Cases          :310   Min.   :   0.0  
 Liberia     :387   Beyla   :   0   Confirmed cases:285   1st Qu.:  19.0  
 Mali        : 16   Bo      :   0   Deaths         :311   Median :  84.5  
 Nigeria     :141   Bo      :   0   New cases      :205   Mean   : 263.6  
 Senegal     : 86   Boffa   :   0   Probable cases :194   3rd Qu.: 413.0  
 Sierra Leone:377   Boffa   :   0   Suspected cases:152   Max.   :3272.0  
                    (Other) :   0                         NA's   :271     
      Date                             Sources    
 Min.   :2014-03-31   ECHO                 :   0  
 1st Qu.:2014-08-20   Gvt                  :1118  
 Median :2014-09-12   GVT                  :  10  
 Mean   :2014-08-30   Ministere de la Sante:  54  
 3rd Qu.:2014-09-30   UNICEF               :  21  
 Max.   :2014-10-27   WHO                  : 251  
                      WHO; Gvt             :   3  
                                                                                      Link     
                                                                                        :  16  
 http://reliefweb.int/report/guinea/ebola-virus-disease-west-africa-update-4-august-2014:  12  
 http://reliefweb.int/report/guinea/ebola-virus-disease-west-africa-update-6-august-2014:  12  
 http://reliefweb.int/report/guinea/ebola-virus-disease-west-africa-update-8-august-2014:  12  
 http://reliefweb.int/sites/reliefweb.int/files/resources/Ebola%20virus%20disease_1.pdf :  12  
 Sitrep 12 Sept 2014                                                                    :  12  
 (Other)                                                                                :1381  
&gt; # rdnosave
&gt; 
&gt; 
</pre></div></fieldset></p>

<p><!-- plot.Rout.png --><img src="/github-pages-sandbox/wmd_files/2014-11-13-ebola.md/plot.Rout.png" alt="(plot.Rout.png)"/></p>

<p><!-- explore.mk --><fieldset class="ww-project-file-source ww-collapsible"><legend><span>explore.mk</span></legend><div class="ww-collapsible-content"><pre>read.Rout: data.xlsx read.R
	$(run-R)

clean.Rout: read.Rout clean.R
	$(run-R)

plot.Rout: clean.Rout plot.R
	$(run-R)

</pre></div></fieldset></p>

<p><!-- read.R --><fieldset class="ww-project-file-source ww-collapsible"><legend><span>read.R</span></legend><div class="ww-collapsible-content"><pre>library(gdata)

data &lt;- read.xls(xls=input_files[[1]], sheet=2)
print(summary(data))
</pre></div></fieldset></p>

<p><!-- read.Rout --><fieldset class="ww-project-file-source ww-collapsible"><legend><span>read.Rout</span></legend><div class="ww-collapsible-content"><pre>&gt; # Input: &quot;data.xlsx&quot;
&gt; 
&gt; # Scripts: read.R
&gt; 
&gt; library(gdata)
&gt; 
&gt; data &lt;- read.xls(xls=input_files[[1]], sheet=2)
&gt; print(summary(data))
         Country            Localite                Category        Value     
 Guinea      :6826   National   : 1457   Cases          :3241   0      :4059  
 Liberia     :4730   Conakry    :  346   Confirmed cases:2770   1      :1688  
 Mali        :  60   Gueckedou  :  346   Deaths         :3207   2      : 742  
 Nigeria     : 364   Kissidougou:  346   New cases      :2735   3      : 737  
 Senegal     : 189   Macenta    :  346   Probable cases :2741   4      : 597  
 Sierra Leone:4750   Telimele   :  325   Suspected cases:2225   5      : 531  
                     (Other)    :13753                          (Other):8565  
         Date                        Sources                   Link      
 2014-09-16:  414   ECHO                 :    6                  :  184  
 2014-10-25:  358   Gvt                  :15579   Sitrep181 13Oct:  156  
 2014-10-24:  354   GVT                  :  150   Sitrep182 14Oct:  156  
 2014-09-30:  348   Ministere de la Sante:  224   Sitrep183 15Oct:  156  
 2014-09-25:  342   UNICEF               :   46   Sitrep184 16Oct:  156  
 2014-09-29:  342   WHO                  :  893   Sitrep185 17Oct:  156  
 (Other)   :14761   WHO; Gvt             :   21   (Other)        :15955  
&gt; 
&gt; 
</pre></div></fieldset></p>

<p><!-- clean.R --><fieldset class="ww-project-file-source ww-collapsible"><legend><span>clean.R</span></legend><div class="ww-collapsible-content"><pre>class(data$Date)
data &lt;- within(data, {
	Date &lt;- as.Date(Date, format=&quot;%Y-%m-%d&quot;)
	Value &lt;- as.numeric(as.character(Value))
})

national &lt;- subset(data, Localite==&quot;National&quot;)

print(summary(data))
</pre></div></fieldset></p>

<p><!-- plot.R --><fieldset class="ww-project-file-source ww-collapsible"><legend><span>plot.R</span></legend><div class="ww-collapsible-content"><pre>library(ggplot2)
theme_set(theme_bw())

print(
	ggplot(national, aes(x=Date, y=Value))
	+ geom_line(aes(color=Country, shape=Category))
	+ geom_point(aes(color=Country, shape=Category))
)
</pre></div></fieldset></p>

<h2 id="helper-code">Helper code</h2>

<p><!-- Makefile --><fieldset class="ww-project-file-source ww-collapsible"><legend><span>Makefile</span></legend><div class="ww-collapsible-content"><pre>SUPPRESS_EMPTY_ROUT_RULE=1
</pre></div></fieldset></p>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">LW Jekyll/GitHub Pages Sandbox</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>LW Jekyll/GitHub Pages Sandbox</li>
          <li><a href="mailto:worden.lee@gmail.com">worden.lee@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/worden-lee">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">worden-lee</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">This is a sandbox test site for Lee Worden's experiments with Jekyll and GitHub Pages
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
