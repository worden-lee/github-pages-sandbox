{"uniq_tokens":{"UNIQ-WW-995613286-QINU":{"tag":"source-file","args":{"filename":"bf0656720ab83fcb04a5415a2b35a14d.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/bf0656720ab83fcb04a5415a2b35a14d"}},"UNIQ-WW-1158777795-QINU":{"tag":"source-file","args":{"filename":"4a8a08f09d37b73795649038408b5f33.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4a8a08f09d37b73795649038408b5f33"}},"UNIQ-WW-612687597-QINU":{"tag":"project-file","args":{"filename":"example.Rout.png","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram"}},"UNIQ-WW-2125833939-QINU":{"tag":"source-file","args":{"filename":"fb7e65ce9c8bf043f622f48b5bda4db7.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/fb7e65ce9c8bf043f622f48b5bda4db7"}},"UNIQ-WW-628232247-QINU":{"tag":"source-file","args":{"filename":"92eb5ffee6ae2fec3ad71c777531578f.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/92eb5ffee6ae2fec3ad71c777531578f"}},"UNIQ-WW-926809355-QINU":{"tag":"source-file","args":{"filename":"15e4235e578d96be98a6c3f8a346a52c.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/15e4235e578d96be98a6c3f8a346a52c"}},"UNIQ-WW-787961084-QINU":{"tag":"project-file","args":{"filename":"another.Rout.png","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram"}},"UNIQ-WW-23356197-QINU":{"tag":"source-file","args":{"filename":"f6ceb0e7de7a39451902195c5dfb9635.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/f6ceb0e7de7a39451902195c5dfb9635"}},"UNIQ-WW-978190269-QINU":{"tag":"source-file","args":{"filename":"4b43b0aee35624cd95b910189b3dc231.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4b43b0aee35624cd95b910189b3dc231"}},"UNIQ-WW-2022487656-QINU":{"tag":"source-file","args":{"filename":"e0c6ef127a6888419edcb5345f2dd0fa.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/e0c6ef127a6888419edcb5345f2dd0fa"}},"UNIQ-WW-1359390386-QINU":{"tag":"source-file","args":{"filename":"bb7cc75db70e9440f5f2de037f525a18.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/bb7cc75db70e9440f5f2de037f525a18"}},"UNIQ-WW-1021085247-QINU":{"tag":"source-file","args":{"filename":"f7fd8e46cc68d6e210ab4d37ba4a4b4f.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/f7fd8e46cc68d6e210ab4d37ba4a4b4f"}},"UNIQ-WW-200085297-QINU":{"tag":"source-file","args":{"filename":"2d7a6df7585e060bb8223ea68486d598.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/2d7a6df7585e060bb8223ea68486d598"}},"UNIQ-WW-2117545492-QINU":{"tag":"source-file","args":{"filename":"4373227dfe87acbbb81e72418d62d02d.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4373227dfe87acbbb81e72418d62d02d"}},"UNIQ-WW-1792172027-QINU":{"tag":"source-file","args":{"filename":"8e7488547c9fa28f8221bdfa47456833.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/8e7488547c9fa28f8221bdfa47456833"}},"UNIQ-WW-1225691940-QINU":{"tag":"source-file","args":{"filename":"nomogram.R","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram"}},"UNIQ-WW-2011709553-QINU":{"tag":"source-file","args":{"filename":"example.mk","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram"}},"UNIQ-WW-863290888-QINU":{"tag":"source-file","args":{"filename":"example.R","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram"}},"UNIQ-WW-2119796862-QINU":{"tag":"source-file","args":{"filename":"another.mk","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram"}},"UNIQ-WW-922740516-QINU":{"tag":"source-file","args":{"filename":"another.R","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram"}}},"file_contents":{"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/bf0656720ab83fcb04a5415a2b35a14d":{"bf0656720ab83fcb04a5415a2b35a14d.tex-math":{"attributes":{"filename":"bf0656720ab83fcb04a5415a2b35a14d.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/bf0656720ab83fcb04a5415a2b35a14d"},"content":"\\pm b","source":true,"position":[595,825]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4a8a08f09d37b73795649038408b5f33":{"4a8a08f09d37b73795649038408b5f33.tex-math":{"attributes":{"filename":"4a8a08f09d37b73795649038408b5f33.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4a8a08f09d37b73795649038408b5f33"},"content":"c","source":true,"position":[830,1056]}},"":{"0":{"attributes":{"filename":"example.Rout.png"},"source":false,"position":[1084,1126]},"1":{"attributes":{"filename":"another.Rout.png"},"source":false,"position":[2478,2520]},"nomogram.R":{"attributes":{"filename":"nomogram.R","display":"source"},"content":"dev.off()\npdf(height=9.5, width=6.5)\nnomogram <- function(xoff=0.1, asp=1\/16){\n\tplot(NULL, NULL, asp=asp,\n\t\tmain = expression(x**2 %+-% bx + c == 0),\n\t\txlim=c(-xoff, 1+xoff), ylim=c(-10,10), axes=FALSE,\n\t\txaxs=\"i\", yaxs=\"i\",\n\t\txlab=\"\", ylab=\"\"\n\t)\n\n\tvertical_axis <- function(pos, side=2){\n\t\taxis(side, pos=pos, at=-10:10)\n\t\taxis(side, pos=pos, at= seq(-10, 10, by=0.5), \n\t\t\tlabels=FALSE, tcl=-0.4)\n\t\taxis(side, pos=pos, at= seq(-10, 10, by=0.1), \n\t\t\tlabels=FALSE, tcl=-0.2)\n\t}\n\n\tvertical_axis(0)\n\tvertical_axis(1, 4)\n\ttext(0.05, 9, \"b\")\n\ttext(0.95, 9, \"c\")\n\n\tr = seq(0, 10, length.out=1001)\n\tlines(1\/(r+1), -r^2\/(r+1))\n\n\trticks <- function(r, tcl, asp=1, labels=FALSE, ll=0.9){\n\t\tx <- 1\/(r+1)\n\t\ty <- -r^2\/(r+1)\n\t\tyx <- (r^2+2*r)*asp\n\t\trad <- sqrt(1+yx^2)\n\t\txp <- 1\/(asp*rad)\n\t\typ <- yx\/rad\n\t\tx0 <- x+yp*tcl\/2\n\t\tx1 <- x-yp*tcl\/2\n\t\ty0 <- y-xp*tcl\/2\n\t\ty1 <- y+xp*tcl\/2\n\t\tarrows(x0, y0, x1, y1, length=0)\n\t\tif(labels){\n\t\t\ttext(x-ll*yp*tcl, y+ll*xp*tcl, r)\n\t\t}\n\t}\n\n\trticks(seq(1, 10, by=1), 0.08, asp, labels=TRUE)\n\trticks(seq(0, 10, by=0.5), 0.05, asp)\n\trticks(seq(0, 4, by=0.1), 0.03, asp)\n\trticks(seq(4, 10, by=0.25), 0.04, asp)\n}\n\nnomogram()\n","source":true,"position":[5651,6858]},"example.mk":{"attributes":{"filename":"example.mk","display":"source"},"content":"example.Rout: nomogram.RData example.R\n","source":true,"position":[7054,7159]},"example.R":{"attributes":{"filename":"example.R","display":"source"},"content":"eqLines <- function(a, b){\n\tabline(a, b-a, lty=2, lwd=1.5)\n\tabline(-a, b+a, lty=3, lwd=1.5)\n}\nnomogram()\neqLines(-3, -5)\n","source":true,"position":[7216,7402]},"another.mk":{"attributes":{"filename":"another.mk","display":"source"},"content":"another.Rout: example.RData\n","source":true,"position":[7430,7524]},"another.R":{"attributes":{"filename":"another.R","display":"source"},"content":"nomogram()\neqLines(-5, 1)\n","source":true,"position":[7527,7618]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/fb7e65ce9c8bf043f622f48b5bda4db7":{"fb7e65ce9c8bf043f622f48b5bda4db7.tex-math":{"attributes":{"filename":"fb7e65ce9c8bf043f622f48b5bda4db7.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/fb7e65ce9c8bf043f622f48b5bda4db7"},"content":"x^2-3x-5=0","source":true,"position":[1187,1422]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/92eb5ffee6ae2fec3ad71c777531578f":{"92eb5ffee6ae2fec3ad71c777531578f.tex-math":{"attributes":{"filename":"92eb5ffee6ae2fec3ad71c777531578f.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/92eb5ffee6ae2fec3ad71c777531578f"},"content":"b","source":true,"position":[1453,1679]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/15e4235e578d96be98a6c3f8a346a52c":{"15e4235e578d96be98a6c3f8a346a52c.tex-math":{"attributes":{"filename":"15e4235e578d96be98a6c3f8a346a52c.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/15e4235e578d96be98a6c3f8a346a52c"},"content":"-b","source":true,"position":[1978,2205]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/f6ceb0e7de7a39451902195c5dfb9635":{"f6ceb0e7de7a39451902195c5dfb9635.tex-math":{"attributes":{"filename":"f6ceb0e7de7a39451902195c5dfb9635.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/f6ceb0e7de7a39451902195c5dfb9635"},"content":"x^2-5x+1 = 0","source":true,"position":[2544,2781]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4b43b0aee35624cd95b910189b3dc231":{"4b43b0aee35624cd95b910189b3dc231.tex-math":{"attributes":{"filename":"4b43b0aee35624cd95b910189b3dc231.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4b43b0aee35624cd95b910189b3dc231"},"content":"r","source":true,"position":[2983,3209]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/e0c6ef127a6888419edcb5345f2dd0fa":{"e0c6ef127a6888419edcb5345f2dd0fa.tex-math":{"attributes":{"filename":"e0c6ef127a6888419edcb5345f2dd0fa.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/e0c6ef127a6888419edcb5345f2dd0fa"},"content":"r^2+br+c=0","source":true,"position":[3468,3703]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/bb7cc75db70e9440f5f2de037f525a18":{"bb7cc75db70e9440f5f2de037f525a18.tex-math":{"attributes":{"filename":"bb7cc75db70e9440f5f2de037f525a18.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/bb7cc75db70e9440f5f2de037f525a18"},"content":"y=b+(c-b)x","source":true,"position":[3736,3971]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/f7fd8e46cc68d6e210ab4d37ba4a4b4f":{"f7fd8e46cc68d6e210ab4d37ba4a4b4f.tex-math":{"attributes":{"filename":"f7fd8e46cc68d6e210ab4d37ba4a4b4f.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/f7fd8e46cc68d6e210ab4d37ba4a4b4f"},"content":"c=-r^2-br","source":true,"position":[4005,4239]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/2d7a6df7585e060bb8223ea68486d598":{"2d7a6df7585e060bb8223ea68486d598.tex-math":{"attributes":{"filename":"2d7a6df7585e060bb8223ea68486d598.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/2d7a6df7585e060bb8223ea68486d598"},"content":"y=b-(r^2+br+b)x","source":true,"position":[4287,4527]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4373227dfe87acbbb81e72418d62d02d":{"4373227dfe87acbbb81e72418d62d02d.tex-math":{"attributes":{"filename":"4373227dfe87acbbb81e72418d62d02d.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4373227dfe87acbbb81e72418d62d02d"},"content":"x=1\/(r+1)","source":true,"position":[5109,5343]}},"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/8e7488547c9fa28f8221bdfa47456833":{"8e7488547c9fa28f8221bdfa47456833.tex-math":{"attributes":{"filename":"8e7488547c9fa28f8221bdfa47456833.tex-math","project":"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/8e7488547c9fa28f8221bdfa47456833"},"content":"y=-r^2\/(r+1)","source":true,"position":[5355,5592]}},"cache-filled":true},"expanded_text":"---\nlayout: post\ntitle:  \"Nomogram\"\ndate:   2014-10-15 19:00:01\ncategories: jekyll update\n---\n<h2> Intro <\/h2>\n\nOn this page, I use the free software environment <a href=\"http:\/\/www.r-project.org\/\">R<\/a> to construct a <a href=\"http:\/\/en.wikipedia.org\/wiki\/Nomogram\">nomogram<\/a> that I read about in a recreational math book when I was a kid.  This nomogram solves quadratic equations.\n\n<h2> Nomogram <\/h2>\n\nYou can <!-- print out <project-file filename=\"nomogram.Rout.pdf\" linktext=\"the nomogram\"\/>, and --> use a ruler to read off the solutions to the quadratic equation, where the line from <source-file filename=\"bf0656720ab83fcb04a5415a2b35a14d.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/bf0656720ab83fcb04a5415a2b35a14d\">\\pm b<\/source-file> to <source-file filename=\"4a8a08f09d37b73795649038408b5f33.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4a8a08f09d37b73795649038408b5f33\">c<\/source-file> intersects the scale.\n\n<p><project-file filename=\"example.Rout.png\"\/><\/p>\n\nThe example above shows the solutions to the equation <source-file filename=\"fb7e65ce9c8bf043f622f48b5bda4db7.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/fb7e65ce9c8bf043f622f48b5bda4db7\">x^2-3x-5=0<\/source-file>.  The dashed line connecting <source-file filename=\"92eb5ffee6ae2fec3ad71c777531578f.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/92eb5ffee6ae2fec3ad71c777531578f\">b<\/source-file> to <source-file filename=\"4a8a08f09d37b73795649038408b5f33.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4a8a08f09d37b73795649038408b5f33\">c<\/source-file> shows the positive solution (4.2), and the dotted line connecting <source-file filename=\"15e4235e578d96be98a6c3f8a346a52c.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/15e4235e578d96be98a6c3f8a346a52c\">-b<\/source-file> to <source-file filename=\"4a8a08f09d37b73795649038408b5f33.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4a8a08f09d37b73795649038408b5f33\">c<\/source-file> shows the negative solution (-1.2).\n\n<p><project-file filename=\"another.Rout.png\"\/><\/p>\n\nIn this example (<source-file filename=\"f6ceb0e7de7a39451902195c5dfb9635.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/f6ceb0e7de7a39451902195c5dfb9635\">x^2-5x+1 = 0<\/source-file>), both solutions are positive (0.2 and 4.8), thus only the dashed line intersects the scale.\n\n<h2> Math <\/h2> \n\nWe want to draw lines from (0, b) to (1, c) that will pass through a point labeled with <source-file filename=\"4b43b0aee35624cd95b910189b3dc231.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4b43b0aee35624cd95b910189b3dc231\">r<\/source-file>, where <source-file filename=\"4b43b0aee35624cd95b910189b3dc231.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4b43b0aee35624cd95b910189b3dc231\">r<\/source-file> is a root, satisfying <source-file filename=\"e0c6ef127a6888419edcb5345f2dd0fa.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/e0c6ef127a6888419edcb5345f2dd0fa\">r^2+br+c=0<\/source-file>.  The equation for our line is <source-file filename=\"bb7cc75db70e9440f5f2de037f525a18.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/bb7cc75db70e9440f5f2de037f525a18\">y=b+(c-b)x<\/source-file>.  Solve the quadratic to obtain <source-file filename=\"f7fd8e46cc68d6e210ab4d37ba4a4b4f.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/f7fd8e46cc68d6e210ab4d37ba4a4b4f\">c=-r^2-br<\/source-file>, and substitute into the line equation to get <source-file filename=\"2d7a6df7585e060bb8223ea68486d598.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/2d7a6df7585e060bb8223ea68486d598\">y=b-(r^2+br+b)x<\/source-file>.\n<p>\nIf we want all lines corresponding to <source-file filename=\"4b43b0aee35624cd95b910189b3dc231.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4b43b0aee35624cd95b910189b3dc231\">r<\/source-file> to go through our point, we must find one independent of <source-file filename=\"92eb5ffee6ae2fec3ad71c777531578f.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/92eb5ffee6ae2fec3ad71c777531578f\">b<\/source-file>.  We do this by setting <source-file filename=\"4373227dfe87acbbb81e72418d62d02d.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/4373227dfe87acbbb81e72418d62d02d\">x=1\/(r+1)<\/source-file>, to yield <source-file filename=\"8e7488547c9fa28f8221bdfa47456833.tex-math\" project=\"\/usr\/local\/src\/jekyll-test\/github-pages-sandbox\/_posts_wmd\/2014-10-15-nomogram\/.workingwiki\/standalone\/8e7488547c9fa28f8221bdfa47456833\">y=-r^2\/(r+1)<\/source-file>.\n\n<h2> Code <\/h2>\n\nDefine and call a nomogram function.\n\n<source-file filename=\"nomogram.R\" display=\"source\">\ndev.off()\npdf(height=9.5, width=6.5)\nnomogram <- function(xoff=0.1, asp=1\/16){\n\tplot(NULL, NULL, asp=asp,\n\t\tmain = expression(x**2 %+-% bx + c == 0),\n\t\txlim=c(-xoff, 1+xoff), ylim=c(-10,10), axes=FALSE,\n\t\txaxs=\"i\", yaxs=\"i\",\n\t\txlab=\"\", ylab=\"\"\n\t)\n\n\tvertical_axis <- function(pos, side=2){\n\t\taxis(side, pos=pos, at=-10:10)\n\t\taxis(side, pos=pos, at= seq(-10, 10, by=0.5), \n\t\t\tlabels=FALSE, tcl=-0.4)\n\t\taxis(side, pos=pos, at= seq(-10, 10, by=0.1), \n\t\t\tlabels=FALSE, tcl=-0.2)\n\t}\n\n\tvertical_axis(0)\n\tvertical_axis(1, 4)\n\ttext(0.05, 9, \"b\")\n\ttext(0.95, 9, \"c\")\n\n\tr = seq(0, 10, length.out=1001)\n\tlines(1\/(r+1), -r^2\/(r+1))\n\n\trticks <- function(r, tcl, asp=1, labels=FALSE, ll=0.9){\n\t\tx <- 1\/(r+1)\n\t\ty <- -r^2\/(r+1)\n\t\tyx <- (r^2+2*r)*asp\n\t\trad <- sqrt(1+yx^2)\n\t\txp <- 1\/(asp*rad)\n\t\typ <- yx\/rad\n\t\tx0 <- x+yp*tcl\/2\n\t\tx1 <- x-yp*tcl\/2\n\t\ty0 <- y-xp*tcl\/2\n\t\ty1 <- y+xp*tcl\/2\n\t\tarrows(x0, y0, x1, y1, length=0)\n\t\tif(labels){\n\t\t\ttext(x-ll*yp*tcl, y+ll*xp*tcl, r)\n\t\t}\n\t}\n\n\trticks(seq(1, 10, by=1), 0.08, asp, labels=TRUE)\n\trticks(seq(0, 10, by=0.5), 0.05, asp)\n\trticks(seq(0, 4, by=0.1), 0.03, asp)\n\trticks(seq(4, 10, by=0.25), 0.04, asp)\n}\n\nnomogram()\n<\/source-file>\n\nUse make to make the example code below depend on the R environment from above (using our <a href=\"http:\/\/lalashan.mcmaster.ca\/theobio\/projects\/index.php\/Theobio\/R_rules\">custom R rules<\/a>).\n\n<source-file filename=\"example.mk\" display=\"source\">\nexample.Rout: nomogram.RData example.R\n<\/source-file>\n\nMake a nomogram, then define and make example lines.\n\n<source-file filename=\"example.R\" display=\"source\">\neqLines <- function(a, b){\n\tabline(a, b-a, lty=2, lwd=1.5)\n\tabline(-a, b+a, lty=3, lwd=1.5)\n}\nnomogram()\neqLines(-3, -5)\n<\/source-file>\n\nHere's another example.\n\n<source-file filename=\"another.mk\" display=\"source\">\nanother.Rout: example.RData\n<\/source-file>\n\n<source-file filename=\"another.R\" display=\"source\">\nnomogram()\neqLines(-5, 1)\n<\/source-file>\n"}
